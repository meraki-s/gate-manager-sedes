<div class="container">
  <div
    class="flex-container"
    [ngClass]="isMobile ? 'flex-container--mobile' : 'flex-container--desktop'"
  >
    <div
      class="access-list"
      [ngClass]="isMobile ? 'access-list--mobile' : 'access-list--desktop'"
    >
      <mat-form-field appearance="fill" class="search-collaborator">
        <mat-label>Buscar por DNI</mat-label>
        <input
          matInput
          [formControl]="searchCollaborator"
          type="text"
          placeholder="70458078"
          autocomplete="off"
          (keyup.enter)="search()"
        />
        <mat-hint>PRESIONAR ENTER</mat-hint>
      </mat-form-field>

      <div class="access-card mat-elevation-z4">
        <ng-container *ngIf="loadingCollaborator$ | async">
          <div class="spinner spinner--scan">
            <mat-spinner></mat-spinner>
          </div>
        </ng-container>

        <ng-container *ngIf="collaborator as item; else notMatched">
          <div class="scan-container">
            <div style="width: 100%">
              <div>
                <h3 class="list2__title">Empresa</h3>
                <div class="company-card">
                  <div fxLayout="row" fxLayout.xs="column" style="width: 100%">
                    <div style="margin-right: 35px">
                      <h3 class="cardCollaborator--fontTitle">
                        Proveedor:
                        <span class="cardCollaborator--fontSpan">{{
                          item.companyName
                        }}</span>
                      </h3>
                      <h3
                        class="cardCollaborator--fontTitle"
                        class="cardCollaborator--fontTitle"
                      >
                        RUC:
                        <span class="cardCollaborator--fontSpan">{{
                          item.companyRuc
                        }}</span>
                      </h3>
                      <h3
                        class="cardCollaborator--fontTitle"
                        class="cardCollaborator--fontTitle"
                      >
                        Representante:
                        <span class="cardCollaborator--fontSpan">{{
                          item.salesRepresentative
                        }}</span>
                      </h3>
                    </div>
                    <hr style="border: 1px solid black" />
                    <div style="padding-left: 1rem">
                      <h3 class="cardCollaborator--fontTitle">
                        Estado:
                        <span
                          *ngIf="item.status === 'registered'"
                          class="cardCollaborator--statusProviderReg"
                          >Registrado</span
                        >
                        <span
                          *ngIf="item.status === 'enabled'"
                          class="cardCollaborator--statusProviderEna"
                          >Habilitado</span
                        >
                        <span
                          *ngIf="item.status === 'disabled'"
                          class="cardCollaborator--statusProviderRej"
                          >Bloqueado</span
                        >
                      </h3>

                      <h3 class="cardCollaborator--fontTitle">
                        Trabajadores:
                        <span class="cardCollaborator--fontSpan">{{
                          item.numberOfWorkers
                        }}</span>
                      </h3>
                      <h3
                        class="cardCollaborator--fontTitle"
                        *ngIf="item.blockedBy"
                      >
                        Bloqueado por:
                        <span class="cardCollaborator--fontSpan">{{
                          item.blockedBy
                        }}</span>
                      </h3>
                    </div>
                  </div>
                </div>
              </div>

              <div *ngIf="item.entryDeparture === 'outside'">
                <h3 class="list2__title">Trabajador</h3>
                <div class="company-card" ngStyle.xs="width: 50vh;">
                  <div fxLayout="row">
                    <div
                      style="margin-right: 242px; margin-left: 10px"
                      ngStyle.xs=" margin-left: 0px;margin-right: 0px;"
                    >
                      <h3 class="cardCollaborator--fontTitle">
                        Nombre:
                        <span class="cardCollaborator--fontSpan">{{
                          item.name
                        }}</span>
                      </h3>
                      <h3 class="cardCollaborator--fontTitle">
                        Cargo:
                        <span class="cardCollaborator--fontSpan">{{
                          item.jobTitle
                        }}</span>
                      </h3>
                    </div>

                    <div ngStyle.xs="margin-left: 50px">
                      <h3 class="cardCollaborator--fontTitle">
                        DNI:
                        <span class="cardCollaborator--fontSpan">{{
                          item.dni
                        }}</span>
                      </h3>
                      <h3 class="cardCollaborator--fontTitle">
                        Teléfono:<span class="cardCollaborator--fontSpan">{{
                          item.phone ? item.phone : "---"
                        }}</span>
                      </h3>
                    </div>
                  </div>
                  <hr />
                  <div fxLayout="row" fxLayoutAlign="start center">
                    <div fxLayout="row">
                      <mat-icon
                        [ngClass]="{
                          cardsVisit__iconApprove: dateIsValidCollaborator(
                            item.medicalExaminationDate
                              ? item.medicalExaminationDate
                              : null
                          ),
                          cardsVisit__iconRejected: !dateIsValidCollaborator(
                            item.medicalExaminationDate
                              ? item.medicalExaminationDate
                              : null
                          )
                        }"
                      >
                        circle</mat-icon
                      >
                      <div
                        fxLayout="column"
                        fxLayoutAlign="start start"
                        style="margin-left: 7px"
                      >
                        <h3 class="cardsVisit__titleDoc">Examen Médico</h3>
                        <span class="cardsVisit__spanDoc">Opcional</span>
                      </div>
                    </div>
                    <div style="margin-left: 30%">
                      <span
                        *ngIf="item.medicalExaminationStatus === 'approved'"
                        class="cardsVisit__fontCurrent"
                        >Vigente</span
                      >
                      <span
                        *ngIf="item.medicalExaminationStatus === 'pending'"
                        class="cardsVisit__fontDeciduous"
                        >Caduco</span
                      >
                      <!-- <a
                        class="cardsVisit__file"
                        (click)="openVizorPdf(item.medicalExaminationFile)"
                        >Visualizar</a
                      > -->
                      <span class="ms-fill"></span>
                    </div>
                  </div>
                  <div fxLayout="row" fxLayoutAlign="flex-start center">
                    <div fxLayout="row">
                      <!-- <mat-icon
                        [ngClass]="{
                          cardsVisit__iconApprove: isVaccinated(item),
                          cardsVisit__iconPending: !isVaccinated(item)
                        }"
                      >
                        circle
                      </mat-icon> -->
                      <mat-icon class="cardsVisit__iconApprove">
                        circle
                      </mat-icon>
                      <div
                        fxLayout="column"
                        fxLayoutAlign="start start"
                        style="margin-left: 7px"
                      >
                        <h3 class="cardsVisit__titleDoc">
                          Carnet de vacunación
                        </h3>
                        <span class="cardsVisit__spanDoc">Opcional</span>
                      </div>
                    </div>
                    <span class="fill"></span>
                    <div class="validity-container">
                      <div style="display: flex; gap: 0.5rem">
                        <mat-icon
                          [ngClass]="{
                            vacCheck: item.firstDoseDate,
                            vacUncheck: !item.firstDoseDate
                          }"
                          matTooltip="Primera Dosis"
                          >{{
                            item.firstDoseDate ? "verified_user" : "gpp_maybe"
                          }}
                        </mat-icon>
                        <mat-icon
                          [ngClass]="{
                            vacCheck: item.secondDoseDate,
                            vacUncheck: !item.secondDoseDate
                          }"
                          matTooltip="Segunda Dosis"
                          >{{
                            item.secondDoseDate ? "verified_user" : "gpp_maybe"
                          }}
                        </mat-icon>
                        <mat-icon
                          [ngClass]="{
                            vacCheck: item.thirdDoseDate,
                            vacUncheck: !item.thirdDoseDate
                          }"
                          matTooltip="Tercera Dosis"
                          >{{
                            item.thirdDoseDate ? "verified_user" : "gpp_maybe"
                          }}
                        </mat-icon>
                      </div>
                      <a
                        class="cardsVisit__file"
                        (click)="openVizorPdf(item.vaccinationCardFile)"
                        [ngStyle]="{
                          'pointer-events': item.vaccinationCardFile
                            ? 'auto'
                            : 'none'
                        }"
                        >Visualizar</a
                      >
                    </div>
                  </div>
                  <div fxLayout="row" fxLayoutAlign="space-between center">
                    <div fxLayout="row">
                      <mat-icon
                        [ngClass]="{
                          cardsVisit__iconApprove:
                            item.sctrStatus === 'approved',
                          cardsVisit__iconPending:
                            item.sctrStatus === 'pending',
                          cardsVisit__iconRejected:
                            item.sctrStatus === 'rejected',
                          cardsVisit__iconExpired:
                            item.sctrStatus === 'expired',
                          cardsVisit__iconUnassigned:
                            item.sctrStatus === 'unassigned'
                        }"
                      >
                        circle</mat-icon
                      >
                      <div
                        fxLayout="column"
                        fxLayoutAlign="start start"
                        style="margin-left: 7px"
                      >
                        <h3 class="cardsVisit__titleDoc">SCTR</h3>
                        <span class="cardsVisit__spanDoc">Requerido</span>
                      </div>
                    </div>
                    <div style="margin-right: 40px">
                      <span
                        *ngIf="
                          dateIsValidCollaborator(
                            item.sctrDate ? item.sctrDate : null
                          )
                        "
                        class="cardsVisit__fontCurrent"
                        >Vigente</span
                      >
                      <span
                        *ngIf="
                          !dateIsValidCollaborator(
                            item.sctrDate ? item.sctrDate : null
                          )
                        "
                        class="cardsVisit__fontDeciduous"
                        >Caduco</span
                      >
                      <a
                        class="cardsVisit__file"
                        (click)="openVizorPdf(item.sctrFile)"
                        [ngStyle]="{
                          'pointer-events': item.sctrFile ? 'auto' : 'none'
                        }"
                        >Visualizar</a
                      >
                    </div>
                  </div>
                  <div fxLayout="row" fxLayoutAlign="space-between center">
                    <div fxLayout="row">
                      <mat-icon
                        [ngClass]="{
                          cardsVisit__iconApprove:
                            item.svlStatus === 'approved',
                          cardsVisit__iconPending: item.svlStatus === 'pending',
                          cardsVisit__iconRejected:
                            item.svlStatus === 'rejected',
                          cardsVisit__iconExpired: item.svlStatus === 'expired',
                          cardsVisit__iconUnassigned:
                            item.svlStatus === 'unassigned'
                        }"
                      >
                        circle</mat-icon
                      >
                      <div
                        fxLayout="column"
                        fxLayoutAlign="start start"
                        style="margin-left: 7px"
                      >
                        <h3 class="cardsVisit__titleDoc">Seguro Vida Ley</h3>
                        <span class="cardsVisit__spanDoc">Opcional</span>
                      </div>
                    </div>
                    <div style="margin-right: 40px">
                      <span
                        *ngIf="
                          dateIsValidCollaborator(
                            item.svlDate ? item.svlDate : null
                          )
                        "
                        class="cardsVisit__fontCurrent"
                        >Vigente</span
                      >
                      <span
                        *ngIf="
                          !dateIsValidCollaborator(
                            item.svlDate ? item.svlDate : null
                          )
                        "
                        class="cardsVisit__fontDeciduous"
                        >Caduco</span
                      >
                      <a
                        class="cardsVisit__file"
                        (click)="openVizorPdf(item.svlFile)"
                        [ngStyle]="{
                          'pointer-events': item.svlFile ? 'auto' : 'none'
                        }"
                        >Visualizar</a
                      >
                    </div>
                  </div>
                  <div fxLayout="row" fxLayoutAlign="space-between center">
                    <div fxLayout="row">
                      <mat-icon
                        [ngClass]="{
                          cardsVisit__iconApprove:
                            item.swornDeclarationStatus === 'approved',
                          cardsVisit__iconPending:
                            item.swornDeclarationStatus === 'pending',
                          cardsVisit__iconRejected:
                            item.swornDeclarationStatus === 'rejected',
                          cardsVisit__iconExpired:
                            item.swornDeclarationStatus === 'expired',
                          cardsVisit__iconUnassigned:
                            item.swornDeclarationStatus === 'unassigned'
                        }"
                      >
                        circle</mat-icon
                      >
                      <div
                        fxLayout="column"
                        fxLayoutAlign="start start"
                        style="margin-left: 7px"
                      >
                        <h3 class="cardsVisit__titleDoc">Declaración Jurada</h3>
                        <span class="cardsVisit__spanDoc">Requerido</span>
                      </div>
                    </div>
                    <div style="margin-right: 40px">
                      <span
                        *ngIf="
                          dateIsValidCollaborator(
                            item.swornDeclarationDate
                              ? item.swornDeclarationDate
                              : null
                          )
                        "
                        class="cardsVisit__fontCurrent"
                        >Vigente</span
                      >
                      <span
                        *ngIf="
                          !dateIsValidCollaborator(
                            item.swornDeclarationDate
                              ? item.swornDeclarationDate
                              : null
                          )
                        "
                        class="cardsVisit__fontDeciduous"
                        >Caduco</span
                      >
                      <a
                        class="cardsVisit__file"
                        (click)="openVizorPdf(item.swornDeclarationFile)"
                        [ngStyle]="{
                          'pointer-events': item.swornDeclarationFile
                            ? 'auto'
                            : 'none'
                        }"
                        >Visualizar</a
                      >
                    </div>
                  </div>
                  <div fxLayout="row" fxLayoutAlign="space-between center">
                    <div fxLayout="row">
                      <mat-icon
                        [ngClass]="{
                          cardsVisit__iconApprove:
                            item.inductionStatus === 'approved',
                          cardsVisit__iconPending:
                            item.inductionStatus === 'pending',
                          cardsVisit__iconRejected:
                            item.inductionStatus === 'rejected',
                          cardsVisit__iconExpired:
                            item.inductionStatus === 'expired',
                          cardsVisit__iconUnassigned:
                            item.inductionStatus === 'unassigned'
                        }"
                      >
                        circle</mat-icon
                      >
                      <div
                        fxLayout="column"
                        fxLayoutAlign="start start"
                        style="margin-left: 7px"
                      >
                        <h3 class="cardsVisit__titleDoc">Inducción</h3>
                        <span class="cardsVisit__spanDoc">Requerido</span>
                      </div>
                    </div>
                    <div style="margin-right: 40px">
                      <span
                        *ngIf="
                          dateIsValidCollaborator(
                            item.inductionDate ? item.inductionDate : null
                          )
                        "
                        class="cardsVisit__fontCurrent"
                        style="margin-right: 71px"
                        >Vigente</span
                      >
                      <span
                        *ngIf="
                          !dateIsValidCollaborator(
                            item.inductionDate ? item.inductionDate : null
                          )
                        "
                        class="cardsVisit__fontDeciduous"
                        style="margin-right: 71px"
                        >Caduco</span
                      >
                    </div>
                  </div>
                  <!-- <div fxLayout="row" fxLayoutAlign="space-between center">
                    <div fxLayout="row">
                      <mat-icon
                        [ngClass]="{
                          cardsVisit__iconApprove:
                            item.symptomatologyStatus === 'approved',
                          cardsVisit__iconPending:
                            item.symptomatologyStatus === 'pending',
                          cardsVisit__iconRejected:
                            item.symptomatologyStatus === 'rejected',
                          cardsVisit__iconExpired:
                            item.symptomatologyStatus === 'expired',
                          cardsVisit__iconUnassigned:
                            item.symptomatologyStatus === 'unassigned'
                        }"
                      >
                        circle</mat-icon
                      >
                      <div
                        fxLayout="column"
                        fxLayoutAlign="start start"
                        style="margin-left: 7px"
                      >
                        <h3 class="cardsVisit__titleDoc">F. Sintomatológica</h3>
                        <span class="cardsVisit__spanDoc">Requerido</span>
                      </div>
                    </div>
                    <div style="margin-right: 40px">
                      <span
                        *ngIf="
                          dateIsValidCollaborator(
                            item.symptomatologyDate
                              ? item.symptomatologyDate
                              : null
                          )
                        "
                        class="cardsVisit__fontCurrent"
                        style="margin-right: 71px"
                        >Vigente</span
                      >
                      <span
                        *ngIf="
                          !dateIsValidCollaborator(
                            item.symptomatologyDate
                              ? item.symptomatologyDate
                              : null
                          )
                        "
                        class="cardsVisit__fontDeciduous"
                        style="margin-right: 71px"
                        >Caduco</span
                      >
                    </div>
                  </div> -->
                </div>
                <div *ngIf="authorization">
                  <mat-form-field
                    appearance="fill"
                    class="form__input"
                    *ngIf="inviteds$ | async as inviteds"
                    style="width: 100%"
                  >
                    <mat-label>Ingreso autorizado por</mat-label>
                    <mat-select [formControl]="authorizedBy">
                      <mat-option
                        *ngFor="let item of inviteds"
                        [value]="item.name"
                      >
                        {{ item.name }}
                      </mat-option>
                    </mat-select>
                    <mat-hint *ngIf="!inviteds$">
                      <mat-progress-bar mode="indeterminate"></mat-progress-bar>
                      <p>Cargando lista ...</p>
                    </mat-hint>
                    <mat-error *ngIf="authorizedBy.errors">
                      Campo <strong>requerido.</strong>
                    </mat-error>
                  </mat-form-field>
                </div>

                <div *ngIf="!authorization">
                  <button
                    mat-button
                    color="primary"
                    (click)="authorization = true"
                  >
                    SOLICITAR INGRESO
                  </button>
                </div>

                <button
                  mat-raised-button
                  [color]="checkValidity(item) ? 'primary' : ''"
                  (click)="authorized()"
                  [disabled]="!checkValidity(item)"
                >
                  INGRESO
                </button>
              </div>

              <div *ngIf="item.entryDeparture === 'inside'">
                <button
                  mat-raised-button
                  color="secondary"
                  (click)="depatureCollaborator()"
                >
                  SALIDA
                </button>
              </div>
            </div>
          </div>
        </ng-container>

        <ng-template #notMatched>
          <div class="default default--scan" *ngIf="!firstTime">
            <h3 class="default__title">
              Este usuario no existe en nuestras listas
            </h3>
            <img
              class="default__image"
              src="../../../assets/img/list1.svg"
              alt="without coincidences"
            />
          </div>
        </ng-template>

        <ng-container *ngIf="firstTime">
          <div class="default default--scan">
            <h3 class="default__title">
              Digita/Escanea un DNI para iniciar tu búsqueda
            </h3>
            <img
              class="default__image"
              src="../../../assets/img/search.svg"
              alt="default image"
            />
          </div>
        </ng-container>
      </div>
    </div>

    <div
      class="access-list"
      [ngClass]="isMobile ? 'access-list--mobile' : 'access-list--desktop'"
    >
      <div class="access-card mat-elevation-z4">
        <div class="scan-container">
          <div class="search-header">
            <h3 class="list2__title">Lista de visitantes</h3>
            <mat-form-field appearance="fill" class="list2__search">
              <input
                matInput
                type="text"
                [formControl]="searchVisit"
                placeholder="Buscar por dni"
                autocomplete="off"
              />
            </mat-form-field>
          </div>

          <ng-container *ngIf="visit$ | async as item; else spinner">
            <ng-container *ngIf="item.length; else empty">
              <div *ngIf="visit$ | async as item">
                <div *ngFor="let visit of item">
                  <div
                    [ngClass]="{
                      'cardsVisit__cardsVisit-approve':
                        visit.status === 'approved',
                      'cardsVisit__cardsVisit-pending':
                        visit.status === 'pending',
                      'cardsVisit__cardsVisit-rejected':
                        visit.status === 'rejected'
                    }"
                    class="cardsVisit__cardsVisit-approve"
                  >
                    <mat-expansion-panel>
                      <mat-expansion-panel-header
                        fxLayout.xs="column"
                        class="visit-card"
                      >
                        <mat-panel-title
                          [ngClass]="{
                            cardsVisit__pending: visit.status === 'pending'
                          }"
                        >
                          <div fxLayout="column">
                            <span
                              class="cardsVisit__fontBtn"
                              *ngIf="visit.status === 'approved'"
                              >Aprobado</span
                            >
                            <span
                              class="cardsVisit__fontBtn--rejected"
                              *ngIf="visit.status === 'rejected'"
                              >Rechazado</span
                            >
                            <span
                              [ngClass]="{
                                marginPending: visit.status === 'pending'
                              }"
                              >Nombre</span
                            >
                            <h3 class="visit-card__name">
                              {{ visit.name }} {{ visit.lastname }}
                            </h3>
                          </div>
                        </mat-panel-title>
                        <mat-panel-title
                          [ngClass]="{
                            cardsVisit__pending: visit.status === 'pending'
                          }"
                        >
                          <div style="margin-top: 18px">
                            <span class="cardsVisit__fontSpan">DNI</span>
                            <h3>{{ visit.dni }}</h3>
                          </div>
                        </mat-panel-title>
                        <mat-panel-title
                          [ngClass]="{
                            cardsVisit__pending: visit.status === 'pending'
                          }"
                        >
                          <div style="margin-top: 18px">
                            <span class="cardsVisit__fontSpan"
                              >Autorizado por</span
                            >
                            <h3>{{ visit.invitedBy }}</h3>
                          </div>
                        </mat-panel-title>
                        <mat-panel-description>
                          <div style="margin-top: 18px">
                            <button
                              [matMenuTriggerFor]="menu"
                              style="
                                border-radius: 100%;
                                border: 0px;
                                background-color: #ffffff;
                                cursor: pointer;
                              "
                            >
                              <mat-icon
                                [ngClass]="{
                                  cardsVisit__iconApprove:
                                    visit.accessStatus === 'inside',
                                  cardsVisit__iconPending:
                                    visit.accessStatus === 'waiting',
                                  cardsVisit__iconRejected:
                                    visit.accessStatus === 'outside'
                                }"
                                matTooltip="Presioner para ver acciones"
                                >circle</mat-icon
                              >
                              <mat-menu #menu="matMenu">
                                <button
                                  mat-menu-item
                                  (click)="entryDialog(visit)"
                                >
                                  <mat-icon>check_circle_outline</mat-icon>
                                  <span>Ingreso</span>
                                </button>
                                <button
                                  mat-menu-item
                                  (click)="exitDialog(visit)"
                                >
                                  <mat-icon>highlight_off</mat-icon>
                                  <span>Salida</span>
                                </button>
                              </mat-menu>
                            </button>
                          </div>
                        </mat-panel-description>
                      </mat-expansion-panel-header>
                      <hr />
                      <div fxLayout="row" fxLayoutAlign="space-between center">
                        <div fxLayout="row">
                          <mat-icon
                            [ngClass]="{
                              cardsVisit__iconApprove:
                                visit.sctrStatus === 'approved',
                              cardsVisit__iconPending:
                                visit.sctrStatus === 'pending',
                              cardsVisit__iconRejected:
                                visit.sctrStatus === 'rejected'
                            }"
                          >
                            circle</mat-icon
                          >
                          <div
                            fxLayout="column"
                            fxLayoutAlign="start start"
                            style="margin-left: 7px"
                          >
                            <h3 class="cardsVisit__titleDoc">SCTR</h3>
                            <span class="cardsVisit__spanDoc">Requerido</span>
                          </div>
                        </div>
                        <div style="margin-right: 40px">
                          <span
                            *ngIf="dateIsValid(visit.sctrDate)"
                            class="cardsVisit__fontCurrent"
                            >Vigente</span
                          >
                          <span
                            *ngIf="!dateIsValid(visit.sctrDate)"
                            class="cardsVisit__fontDeciduous"
                            >Caduco</span
                          >
                          <a
                            class="cardsVisit__file"
                            (click)="openVizorPdf(visit.sctrFile)"
                            [ngStyle]="{
                              'pointer-events': visit.sctrFile ? 'auto' : 'none'
                            }"
                            >Visualizar</a
                          >
                        </div>
                      </div>

                      <!-- <div fxLayout="row" fxLayoutAlign="space-between center">
                        <div fxLayout="row">
                          <mat-icon
                            [ngClass]="{
                              cardsVisit__iconApprove:
                                visit.covidStatus === 'approved',
                              cardsVisit__iconPending:
                                visit.covidStatus === 'pending',
                              cardsVisit__iconRejected:
                                visit.covidStatus === 'rejected'
                            }"
                          >
                            circle</mat-icon
                          >
                          <div
                            fxLayout="column"
                            fxLayoutAlign="start start"
                            style="margin-left: 7px"
                          >
                            <h3 class="cardsVisit__titleDoc">Prueba COVID</h3>
                            <span class="cardsVisit__spanDoc">Requerido</span>
                          </div>
                        </div>
                        <div style="margin-right: 40px">
                          <span
                            *ngIf="dateIsValid(visit.covidDate)"
                            class="cardsVisit__fontCurrent"
                            >Vigente</span
                          >
                          <span
                            *ngIf="!dateIsValid(visit.covidDate)"
                            class="cardsVisit__fontDeciduous"
                            >Caduco</span
                          >

                          <a
                            class="cardsVisit__file"
                            (click)="openVizorPdf(visit.covidFile)"
                            >Visualizar</a
                          >
                        </div>
                      </div> -->

                      <div fxLayout="row" fxLayoutAlign="space-between center">
                        <div fxLayout="row">
                          <mat-icon
                            [ngClass]="{
                              cardsVisit__iconApprove: isVaccinated(visit),
                              cardsVisit__iconRejected: !isVaccinated(visit)
                            }"
                          >
                            circle</mat-icon
                          >
                          <div
                            fxLayout="column"
                            fxLayoutAlign="start start"
                            style="margin-left: 7px"
                          >
                            <h3 class="cardsVisit__titleDoc">Carnet Vac.</h3>
                            <span class="cardsVisit__spanDoc">Requerido</span>
                          </div>
                        </div>
                        <div class="validity-container">
                          <div style="display: flex; gap: 0.5rem">
                            <mat-icon
                              [ngClass]="{
                                vacCheck: visit.firstDoseDate,
                                vacUncheck: !visit.firstDoseDate
                              }"
                              matTooltip="Primera Dosis"
                              >{{
                                visit.firstDoseDate
                                  ? "verified_user"
                                  : "gpp_maybe"
                              }}
                            </mat-icon>
                            <mat-icon
                              [ngClass]="{
                                vacCheck: visit.secondDoseDate,
                                vacUncheck: !visit.secondDoseDate
                              }"
                              matTooltip="Segunda Dosis"
                              >{{
                                visit.secondDoseDate
                                  ? "verified_user"
                                  : "gpp_maybe"
                              }}
                            </mat-icon>
                            <mat-icon
                              [ngClass]="{
                                vacCheck: visit.thirdDoseDate,
                                vacUncheck: !visit.thirdDoseDate
                              }"
                              matTooltip="Tercera Dosis"
                              >{{
                                visit.thirdDoseDate
                                  ? "verified_user"
                                  : "gpp_maybe"
                              }}
                            </mat-icon>
                          </div>

                          <a
                            class="cardsVisit__file"
                            (click)="openVizorPdf(visit.vaccinationCardFile)"
                            [ngStyle]="{
                              'pointer-events': visit.vaccinationCardFile
                                ? 'auto'
                                : 'none'
                            }"
                            >Visualizar</a
                          >
                        </div>
                      </div>
                    </mat-expansion-panel>
                  </div>
                </div>
              </div>
            </ng-container>

            <ng-template #empty>
              <div class="default default--visit">
                <h3 class="default__title">No hay invitados pendientes</h3>
                <img
                  class="default__image"
                  src="../../../assets/img/list2.svg   "
                  alt=""
                />
              </div>
            </ng-template>
          </ng-container>
          <ng-template #spinner>
            <div class="spinner spinner--visit">
              <mat-spinner></mat-spinner>
            </div>
          </ng-template>
        </div>
      </div>
    </div>
  </div>
</div>
